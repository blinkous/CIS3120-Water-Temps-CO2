<!DOCTYPE html>
<html lang="en">
<head>
    <title>Water, Temp & C02</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
    <!-- <link href="https://fonts.googleapis.com/css?family=Montserrat:100|Open+Sans" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css?family=Lato:100,400" rel="stylesheet">
    <link rel="stylesheet" href="style.css" type="text/css"/>
</head>
<body>
<!-- <h1>WATER, TEMPERATURES AND CO2</h1> -->
<div id="nav">
    <h1>Water, Temperatures, and CO2</h1>
</div>
<div id="wrapper">
    <h3 id="timeSeries">Time Series Graphs</h3><img class="graph" src="water_graph.png"/><img class="graph" src="temp_graph.png"/><img class="graph" src="co2_graph.png"/><h3 id="timeSeriesStats">Time Series Stats</h3><div class="WaterStat"><h5>Lowest Water Consumption</h5>
    <p>Year: 2014.0</p>
    <p>Water: 996.0</p>
    <p>Temp: 54.4</p>
    <p>CO2: 169.8</p></div><div class="WaterStat"><h5>Highest Water Consumption</h5>
    <p>Year: 1980.0</p>
    <p>Water: 1506.0</p>
    <p>Temp: 55.0</p>
    <p>CO2: 224.1</p></div><div class="TempStat"><h5>Lowest Temperatures</h5>
    <p>Year: 2003.0</p>
    <p>Water: 1093.7</p>
    <p>Temp: 53.4</p>
    <p>CO2: 210.8</p></div><div class="TempStat"><h5>Highest Temperatures</h5>
    <p>Year: 2012.0</p>
    <p>Water: 1009.1</p>
    <p>Temp: 57.3</p>
    <p>CO2: 160.4</p></div><div class="CO2Stat"><h5>Lowest CO2</h5>
    <p>Year: 2012.0</p>
    <p>Water: 1009.1</p>
    <p>Temp: 57.3</p>
    <p>CO2: 160.4</p></div><div class="CO2Stat"><h5>Highest CO2</h5>
    <p>Year: 1980.0</p>
    <p>Water: 1506.0</p>
    <p>Temp: 55.0</p>
    <p>CO2: 224.1</p></div><script>var yearArr = [];
yearArr.push(1980);
    yearArr.push(1981);
    yearArr.push(1982);
    yearArr.push(1983);
    yearArr.push(1984);
    yearArr.push(1985);
    yearArr.push(1986);
    yearArr.push(1987);
    yearArr.push(1988);
    yearArr.push(1989);
    yearArr.push(1990);
    yearArr.push(1991);
    yearArr.push(1992);
    yearArr.push(1993);
    yearArr.push(1994);
    yearArr.push(1995);
    yearArr.push(1996);
    yearArr.push(1997);
    yearArr.push(1998);
    yearArr.push(1999);
    yearArr.push(2000);
    yearArr.push(2001);
    yearArr.push(2002);
    yearArr.push(2003);
    yearArr.push(2004);
    yearArr.push(2005);
    yearArr.push(2006);
    yearArr.push(2007);
    yearArr.push(2008);
    yearArr.push(2009);
    yearArr.push(2010);
    yearArr.push(2011);
    yearArr.push(2012);
    yearArr.push(2013);
    yearArr.push(2014);
    yearArr.push(2015);
    yearArr.push(2016);
    var waterArr = [];
waterArr.push(1506.0);
    waterArr.push(1309.0);
    waterArr.push(1382.0);
    waterArr.push(1424.0);
    waterArr.push(1465.0);
    waterArr.push(1326.0);
    waterArr.push(1351.0);
    waterArr.push(1447.0);
    waterArr.push(1484.0);
    waterArr.push(1402.0);
    waterArr.push(1424.0);
    waterArr.push(1469.0);
    waterArr.push(1369.0);
    waterArr.push(1368.5);
    waterArr.push(1357.7);
    waterArr.push(1325.7);
    waterArr.push(1297.9);
    waterArr.push(1205.5);
    waterArr.push(1219.5);
    waterArr.push(1237.2);
    waterArr.push(1240.4);
    waterArr.push(1184.0);
    waterArr.push(1135.6);
    waterArr.push(1093.7);
    waterArr.push(1099.5);
    waterArr.push(1138.0);
    waterArr.push(1069.0);
    waterArr.push(1114.0);
    waterArr.push(1098.0);
    waterArr.push(1007.5);
    waterArr.push(1039.0);
    waterArr.push(1021.0);
    waterArr.push(1009.1);
    waterArr.push(1006.1);
    waterArr.push(996.0);
    waterArr.push(1009.0);
    waterArr.push(1002.0);
    var tempArr = [];
tempArr.push(55.0);
    tempArr.push(55.2);
    tempArr.push(54.9);
    tempArr.push(56.0);
    tempArr.push(55.5);
    tempArr.push(55.5);
    tempArr.push(55.3);
    tempArr.push(55.1);
    tempArr.push(54.8);
    tempArr.push(54.0);
    tempArr.push(57.2);
    tempArr.push(57.2);
    tempArr.push(53.9);
    tempArr.push(55.5);
    tempArr.push(55.2);
    tempArr.push(55.3);
    tempArr.push(53.7);
    tempArr.push(54.3);
    tempArr.push(57.2);
    tempArr.push(56.5);
    tempArr.push(53.9);
    tempArr.push(56.3);
    tempArr.push(56.4);
    tempArr.push(53.4);
    tempArr.push(54.5);
    tempArr.push(55.8);
    tempArr.push(56.8);
    tempArr.push(55.0);
    tempArr.push(55.3);
    tempArr.push(54.0);
    tempArr.push(56.7);
    tempArr.push(56.4);
    tempArr.push(57.3);
    tempArr.push(55.3);
    tempArr.push(54.4);
    tempArr.push(56.7);
    tempArr.push(57.2);
    var co2Arr = [];
co2Arr.push(224.1);
    co2Arr.push(206.8);
    co2Arr.push(196.7);
    co2Arr.push(179.1);
    co2Arr.push(183.8);
    co2Arr.push(188.4);
    co2Arr.push(191.6);
    co2Arr.push(201.9);
    co2Arr.push(209.5);
    co2Arr.push(214.5);
    co2Arr.push(207.9);
    co2Arr.push(200.1);
    co2Arr.push(198.6);
    co2Arr.push(194.1);
    co2Arr.push(192.1);
    co2Arr.push(197.7);
    co2Arr.push(200.3);
    co2Arr.push(204.8);
    co2Arr.push(203.2);
    co2Arr.push(205.1);
    co2Arr.push(211.6);
    co2Arr.push(205.8);
    co2Arr.push(200.2);
    co2Arr.push(210.8);
    co2Arr.push(213.1);
    co2Arr.push(209.4);
    co2Arr.push(190.9);
    co2Arr.push(197.6);
    co2Arr.push(187.8);
    co2Arr.push(172.0);
    co2Arr.push(173.8);
    co2Arr.push(164.0);
    co2Arr.push(160.4);
    co2Arr.push(162.1);
    co2Arr.push(169.8);
    co2Arr.push(167.7);
    co2Arr.push(163.7);
    </script>
<h3 id="enterTemp">Predictions</h3>
<form id="noSubmit">
    <input type="text" placeholder="Enter Temperature" ng-model="Temperature" id="temp"/>
    <input type="submit" value="Submit" id="submit"/>
</form>
<div id="results">
</div>
<script>
$('#temp').change(function(){
    getResults();
});
function getResults(){
    mTemp = $('#temp').val();
    var matchingYears = [];
    var matchingWater = [];
    var matchingCo2 = [];
    var results = "";
    var match = 0;
    var totalW = 0;
    var totalC = 0;

    for (i = 0; i < yearArr.length; i++) { 
        if(mTemp == tempArr[i]){
            match += 1;
            results += "<div class=\"tResult\"><h4>Result " + match + "</h4>";
            matchingYears.push(yearArr[i]);
            matchingWater.push(waterArr[i]);
            matchingCo2.push(co2Arr[i]);
            results += "<p>Year: " + yearArr[i] + "</p>";
            results += "<p>Temp: " + tempArr[i] + "</p>";
            results += "<p>Water Consumption: " + waterArr[i] + "</p>";
            results += "<p>CO2 Emissions: " + co2Arr[i] + "</p></div>";
            totalW += waterArr[i]
            totalC += co2Arr[i]
        }
    }
    if(match > 0){
        var avgW = totalW/match
        var avgC = (totalC/match)/365

        var prediction = "<div class=\"predict\">";
        prediction += "<h4>Predicted Water Consumption</h4>";
        prediction += "<p>" + avgW + " million gallons per day</p>";
        prediction += "<h4>Predicted CO2 Em</h4>";
        prediction += "<p>" + avgC + " million metric tons per day</p>";
        prediction += "</div>";
        results += prediction;
    }

    $('#results').html(results);

}
$('#noSubmit').submit(function(event){
    event.preventDefault();
    getResults();
})
</script>
</div>
</body>
</html>